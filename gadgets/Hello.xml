<!--
 From https://developers.google.com/gmail/contextual_gadgets#hello_world_example_code 
-->
<Module>
<ModulePrefs title="Send Request" description="Send request to somewhere" height="20" author="Martin Růžička" author_email="martin.ruzicka@eman.cz" author_location="Prague, Czech Republic">
<!--  Declare feature dependencies.  -->
<!--
 This one is not specific to Gmail contextual gadgets. 
-->
<Require feature="dynamic-height"/>
<!--
 The next feature, Caja, is optional, and is supported for
     use only within test domains. Uncomment the tag only for
     non-production gadgets. 
-->
<!--  <Require feature="caja"/>  -->
<!--
 The next feature, google.contentmatch, is required for all
     Gmail contextual gadgets.
     <Param> - specify one or more comma-separated extractor IDs in
     a param named "extractors". This line is overridden by the extractor ID
     in the manifest, but is still expected to be present. 
-->
<Require feature="google.contentmatch">
<Param name="extractors">google.com:HelloWorld</Param>
</Require>
</ModulePrefs>
<!--
 Define the content type and display location. The settings
   "html" and "card" are required for all Gmail contextual gadgets. 
-->
<Content type="html" view="card">
<![CDATA[
<script type="text/javascript"> alert("ahoj"); </script>
<script type="text/javascript"> 
	function sendRequest() {
    	var request = makeHttpObject();
    	request.open("GET", "http://ruzicm18.github.io/index.html", true);
    	request.send(null);
    	request.onreadystatechange = function() {
      		if (request.readyState == 4) {
        	if (request.status == 200) {
				var anotherButton = document.createElement("BUTTON");
				var t = document.createTextNode(request.responseText);
				anotherButton.appendChild(t);
				document.body.appendChild(anotherButton);				
			} else { 
          	  	alert("nepovedlo se");
			}
      	}
    };	

	}
	
	var btn = document.createElement("BUTTON");        // Create a <button> element
	btn.onclick = sendRequest;
	var t = document.createTextNode("CLICK ME");       // Create a text node
	btn.appendChild(t);                                // Append the text to <button>
	document.body.appendChild(btn);                    // Append <button> to <body>
</script>
]]>
</Content>
</Module>